<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@manticorp/csv-mapper</title><meta name="description" content="Documentation for @manticorp/csv-mapper"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@manticorp/csv-mapper</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@manticorp/csv-mapper</h1></div><div class="tsd-panel tsd-typography"><h1 id="csv-remapper" class="tsd-anchor-link">CSV remapper<a href="#csv-remapper" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Do you need to accept CSV files from a user? Then this library is for you!</p>
<p><img src="media/simple_example.png" alt="Simple example"></p>
<p>Dynamically remap CSV columns, with a user UI for mapping columns.</p>
<p>Set your expectations so that you receive the right input.</p>
<p>It allows you to:</p>
<ul>
<li>Take a file input that accepts CSVs</li>
<li>Perform a dynamic mapping of columns (optionally presenting a mapping UI to the user)</li>
<li>Allow specifying accepted columns</li>
<li>Do smart auto mapping</li>
<li>Perform basic or advanced validation and transformation</li>
</ul>
<h2 id="features" class="tsd-anchor-link">Features:<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Column validation <em>(via column <code>validation</code> options)</em></li>
<li>Column transformation</li>
<li>Intercept upload and upload edited/parsed/mapped csv instead <em>(via <code>remap</code> option)</em></li>
<li><strong>Robust CSV parsing</strong> using bundled PapaParse</li>
<li><strong>Advanced dialect detection</strong> for separators, quotes, and escape characters</li>
<li><strong>Proper handling of line breaks</strong> within quoted CSV fields</li>
</ul>
<h1 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Can be used in browser or node, and can be used as a module or a standalone.</p>
<p>Recommended browser use is standalone.</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">input</span><span class="hl-2"> </span><span class="hl-3">id</span><span class="hl-2">=</span><span class="hl-4">&quot;csv&quot;</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2">=</span><span class="hl-4">&quot;file&quot;</span><span class="hl-2"> </span><span class="hl-3">accept</span><span class="hl-2">=</span><span class="hl-4">&quot;.csv&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;</span><span class="hl-1">script</span><span class="hl-5"> </span><span class="hl-3">src</span><span class="hl-5">=</span><span class="hl-4">&quot;csv-mapper/dist/csv-mapper.umd.min.js&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">script</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;</span><span class="hl-1">script</span><span class="hl-0">&gt;</span><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">mapper</span><span class="hl-5"> </span><span class="hl-2">=</span><span class="hl-5"> </span><span class="hl-6">new</span><span class="hl-5"> </span><span class="hl-8">CsvMapper</span><span class="hl-5">(</span><span class="hl-9">&#39;#csv&#39;</span><span class="hl-5">, {</span><span class="hl-10">columns:</span><span class="hl-5"> [</span><span class="hl-9">&#39;name&#39;</span><span class="hl-5">, </span><span class="hl-9">&#39;id&#39;</span><span class="hl-5">]});</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">script</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<h1 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>This is a minimal example:</p>
<pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">input</span><span class="hl-2"> </span><span class="hl-3">id</span><span class="hl-2">=</span><span class="hl-4">&quot;csv&quot;</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2">=</span><span class="hl-4">&quot;file&quot;</span><span class="hl-2"> </span><span class="hl-3">accept</span><span class="hl-2">=</span><span class="hl-4">&quot;.csv&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;</span><span class="hl-1">script</span><span class="hl-5"> </span><span class="hl-3">type</span><span class="hl-5">=</span><span class="hl-4">&quot;module&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-11">import</span><span class="hl-5"> </span><span class="hl-10">CsvMapper</span><span class="hl-5"> </span><span class="hl-11">from</span><span class="hl-5"> </span><span class="hl-9">&quot;./csv-mapper/dist/csv-mapper.esm.min.js&quot;</span><span class="hl-5">;</span><br/><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">mapper</span><span class="hl-5"> </span><span class="hl-2">=</span><span class="hl-5"> </span><span class="hl-6">new</span><span class="hl-5"> </span><span class="hl-8">CsvMapper</span><span class="hl-5">(</span><span class="hl-9">&#39;#csv&#39;</span><span class="hl-5">, {</span><br/><span class="hl-5">    </span><span class="hl-10">columns:</span><span class="hl-5"> [</span><br/><span class="hl-5">        </span><span class="hl-9">&#39;sku&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-9">&#39;barcode&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-9">&#39;price&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-9">&#39;qty&#39;</span><br/><span class="hl-5">    ],</span><br/><span class="hl-5">});</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">script</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>When the user clicks on the file upload button, a UI will appear allowing remapping from columns in the config columns to columns in the input CSV.</p>
<h2 id="csv-parsing-capabilities" class="tsd-anchor-link">CSV Parsing Capabilities<a href="#csv-parsing-capabilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The library uses <a href="https://www.papaparse.com/">PapaParse</a> for robust CSV parsing that properly handles:</p>
<h3 id="multiline-fields" class="tsd-anchor-link">Multiline Fields<a href="#multiline-fields" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="csv">product_id,name,description
1,"Multi-line
Product Name
With Breaks","Long description here"
2,"Another Product","Simple description"
</code><button type="button">Copy</button></pre>

<h3 id="various-quote-styles" class="tsd-anchor-link">Various Quote Styles<a href="#various-quote-styles" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Standard double quotes: <code>&quot;field with spaces&quot;</code></li>
<li>Escaped quotes: <code>&quot;field with &quot;&quot;quotes&quot;&quot; inside&quot;</code></li>
<li>Mixed content: <code>&quot;field with, comma and &quot;&quot;quotes&quot;&quot;&quot;</code></li>
</ul>
<h3 id="different-separators-and-dialects" class="tsd-anchor-link">Different Separators and Dialects<a href="#different-separators-and-dialects" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Comma-separated (CSV): <code>field1,field2,field3</code></li>
<li>Semicolon-separated: <code>field1;field2;field3</code></li>
<li>Tab-separated (TSV): <code>field1	field2	field3</code></li>
<li>Pipe-separated: <code>field1|field2|field3</code></li>
</ul>
<p>The library automatically detects the dialect or you can specify it explicitly.</p>
<h1 id="no-ui-option" class="tsd-anchor-link">No UI option<a href="#no-ui-option" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>CsvMapper can optionally be run using no UI.</p>
<p>Here is an example using no UI:</p>
<pre><code class="javascript"><span class="hl-2">    </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">columns</span><span class="hl-2"> = [</span><br/><span class="hl-2">        </span><span class="hl-9">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-9">&#39;name&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-9">&#39;address_line_1&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-9">&#39;address_line_2&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">        {</span><br/><span class="hl-2">            </span><span class="hl-10">name:</span><span class="hl-2"> </span><span class="hl-9">&#39;town&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-10">transform:</span><span class="hl-2"> [</span><span class="hl-9">&#39;title&#39;</span><span class="hl-2">]</span><br/><span class="hl-2">        },</span><br/><span class="hl-2">        {</span><br/><span class="hl-2">            </span><span class="hl-10">name:</span><span class="hl-2"> </span><span class="hl-9">&#39;county&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-8">match</span><span class="hl-10">:</span><span class="hl-2"> (</span><span class="hl-10">header</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> [</span><span class="hl-9">&#39;county&#39;</span><span class="hl-2">, </span><span class="hl-9">&#39;state&#39;</span><span class="hl-2">, </span><span class="hl-9">&#39;region&#39;</span><span class="hl-2">].</span><span class="hl-8">includes</span><span class="hl-2">(</span><span class="hl-10">header</span><span class="hl-2">.</span><span class="hl-8">trim</span><span class="hl-2">().</span><span class="hl-8">toLowerCase</span><span class="hl-2">())</span><br/><span class="hl-2">        },</span><br/><span class="hl-2">        {</span><br/><span class="hl-2">            </span><span class="hl-10">name:</span><span class="hl-2"> </span><span class="hl-9">&#39;postcode&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-8">match</span><span class="hl-10">:</span><span class="hl-2"> (</span><span class="hl-10">header</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> [</span><span class="hl-9">&#39;postcode&#39;</span><span class="hl-2">, </span><span class="hl-9">&#39;postalcode&#39;</span><span class="hl-2">, </span><span class="hl-9">&#39;zip&#39;</span><span class="hl-2">].</span><span class="hl-8">includes</span><span class="hl-2">(</span><span class="hl-10">header</span><span class="hl-2">.</span><span class="hl-8">replace</span><span class="hl-2">(</span><span class="hl-12">/\s</span><span class="hl-13">*</span><span class="hl-12">/</span><span class="hl-6">g</span><span class="hl-2">, </span><span class="hl-9">&#39;&#39;</span><span class="hl-2">).</span><span class="hl-8">toLowerCase</span><span class="hl-2">()),</span><br/><span class="hl-2">            </span><span class="hl-10">required:</span><span class="hl-2"> </span><span class="hl-6">true</span><br/><span class="hl-2">        },</span><br/><span class="hl-2">    ];</span><br/><span class="hl-2">    </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">csvMapper</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-8">CsvMapper</span><span class="hl-2">({</span><br/><span class="hl-2">        </span><span class="hl-10">columns</span><span class="hl-2">,</span><br/><span class="hl-2">    });</span><br/><br/><span class="hl-2">    </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">csv</span><span class="hl-2"> = </span><span class="hl-9">`id,name,address_line_1,town,state,zip</span><br/><span class="hl-9">1,John,123 fake street,Fakesham,Fakesberg,12345;</span><br/><span class="hl-9">2,Mary,456 Real Road,margheritavill,,67890`</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">result</span><span class="hl-2"> = </span><span class="hl-10">csvMapper</span><span class="hl-2">.</span><span class="hl-8">mapCsv</span><span class="hl-2">(</span><span class="hl-10">csv</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-11">if</span><span class="hl-2"> (</span><span class="hl-10">result</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-10">console</span><span class="hl-2">.</span><span class="hl-8">log</span><span class="hl-2">(</span><span class="hl-10">result</span><span class="hl-2">.</span><span class="hl-10">csv</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-14">// and upload to server, or save, or whatver.</span><br/><span class="hl-2">    }</span><br/>
</code><button type="button">Copy</button></pre>

<h1 id="advanced-configuration" class="tsd-anchor-link">Advanced Configuration<a href="#advanced-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><pre><code class="html"><span class="hl-0">&lt;</span><span class="hl-1">input</span><span class="hl-2"> </span><span class="hl-3">id</span><span class="hl-2">=</span><span class="hl-4">&quot;csv&quot;</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2">=</span><span class="hl-4">&quot;file&quot;</span><span class="hl-2"> </span><span class="hl-3">accept</span><span class="hl-2">=</span><span class="hl-4">&quot;.csv&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;</span><span class="hl-1">input</span><span class="hl-2"> </span><span class="hl-3">id</span><span class="hl-2">=</span><span class="hl-4">&quot;map&quot;</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2">=</span><span class="hl-4">&quot;hidden&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;</span><span class="hl-1">div</span><span class="hl-2"> </span><span class="hl-3">id</span><span class="hl-2">=</span><span class="hl-4">&quot;remapping-controls&quot;</span><span class="hl-0">&gt;&lt;/</span><span class="hl-1">div</span><span class="hl-0">&gt;</span><br/><span class="hl-0">&lt;</span><span class="hl-1">script</span><span class="hl-5"> </span><span class="hl-3">type</span><span class="hl-5">=</span><span class="hl-4">&quot;module&quot;</span><span class="hl-0">&gt;</span><br/><span class="hl-11">import</span><span class="hl-5"> </span><span class="hl-10">CsvMapper</span><span class="hl-5"> </span><span class="hl-11">from</span><span class="hl-5"> </span><span class="hl-9">&quot;./../dist/csv-mapper.js&quot;</span><span class="hl-5">;</span><br/><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">columns</span><span class="hl-5"> </span><span class="hl-2">=</span><span class="hl-5"> [</span><br/><span class="hl-5">    </span><span class="hl-9">&#39;name&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    {</span><span class="hl-10">name:</span><span class="hl-5"> </span><span class="hl-9">&#39;barcode&#39;</span><span class="hl-5">, </span><span class="hl-10">outputHeader:</span><span class="hl-5"> </span><span class="hl-9">&#39;upc&#39;</span><span class="hl-5">},</span><br/><span class="hl-5">    {</span><span class="hl-10">name:</span><span class="hl-5"> </span><span class="hl-9">&#39;sku&#39;</span><span class="hl-5">, </span><span class="hl-10">title:</span><span class="hl-5"> </span><span class="hl-9">&#39;SKU&#39;</span><span class="hl-5">},</span><br/><span class="hl-5">];</span><br/><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">mapper</span><span class="hl-5"> </span><span class="hl-2">=</span><span class="hl-5"> </span><span class="hl-6">new</span><span class="hl-5"> </span><span class="hl-8">CsvMapper</span><span class="hl-5">(</span><span class="hl-9">&#39;#csv&#39;</span><span class="hl-5">, {</span><br/><span class="hl-5">    </span><span class="hl-10">columns:</span><span class="hl-5"> </span><span class="hl-10">columns</span><span class="hl-5">,                   </span><span class="hl-14">// Column specification</span><br/><br/><span class="hl-5">    </span><span class="hl-14">// Parsing/dialect</span><br/><span class="hl-5">    </span><span class="hl-10">headers:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-10">separator:</span><span class="hl-5"> </span><span class="hl-9">&#39;&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-10">enclosure:</span><span class="hl-5"> </span><span class="hl-9">&#39;&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-10">escape:</span><span class="hl-5"> </span><span class="hl-9">&#39;&#39;</span><span class="hl-5">,</span><br/><br/><span class="hl-5">    </span><span class="hl-10">output:</span><span class="hl-5"> {</span><br/><span class="hl-5">        </span><span class="hl-10">generateCsv:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">, </span><span class="hl-14">// Whether to generate output CSV string</span><br/><span class="hl-5">        </span><span class="hl-10">delimiter:</span><span class="hl-5"> </span><span class="hl-9">&#39;,&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-10">quoteChar:</span><span class="hl-5"> </span><span class="hl-9">&#39;&quot;&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-10">escapeChar:</span><span class="hl-5"> </span><span class="hl-9">&#39;</span><span class="hl-15">\\</span><span class="hl-9">&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-10">newline:</span><span class="hl-5"> </span><span class="hl-9">&#39;</span><span class="hl-15">\n</span><span class="hl-9">&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-10">allowUnmappedTargets:</span><span class="hl-5"> </span><span class="hl-6">false</span><span class="hl-5">, </span><span class="hl-14">// Whether to allow csv columns that are unmapped in the input into the output</span><br/><span class="hl-5">    },</span><br/><br/><span class="hl-5">    </span><span class="hl-14">// Library behavior</span><br/><span class="hl-5">    </span><span class="hl-10">remap:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">,                   </span><span class="hl-14">// Whether to attempt remapping</span><br/><span class="hl-5">    </span><span class="hl-10">showUserControls:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">,        </span><span class="hl-14">// Defaults to true if input is present, false if not</span><br/><span class="hl-5">    </span><span class="hl-10">mappingInput:</span><span class="hl-5"> </span><span class="hl-6">null</span><span class="hl-5">,            </span><span class="hl-14">// HTMLElement | false</span><br/><span class="hl-5">    </span><span class="hl-10">controlsContainer:</span><span class="hl-5"> </span><span class="hl-6">null</span><span class="hl-5">,       </span><span class="hl-14">// selector | element | null</span><br/><span class="hl-5">    </span><span class="hl-10">autoThreshold:</span><span class="hl-5"> </span><span class="hl-16">0.8</span><span class="hl-5">,            </span><span class="hl-14">// Similarity threshold for auto column mapping</span><br/><span class="hl-5">    </span><span class="hl-10">setInputValidity:</span><span class="hl-5"> </span><span class="hl-6">false</span><span class="hl-5">,       </span><span class="hl-14">// Whether to use setCustomValidity on the file input</span><br/><span class="hl-5">    </span><span class="hl-10">mappingMode:</span><span class="hl-5"> </span><span class="hl-9">&#39;configToCsv&#39;</span><span class="hl-5">,    </span><span class="hl-14">// Default mapping direction</span><br/><span class="hl-5">    </span><span class="hl-10">allowMultipleSelection:</span><span class="hl-5"> </span><span class="hl-6">false</span><span class="hl-5">, </span><span class="hl-14">// Whether to allow many-to-many mapping</span><br/><br/><span class="hl-5">    </span><span class="hl-10">uiRenderer:</span><span class="hl-5"> </span><span class="hl-6">null</span><span class="hl-5">,              </span><span class="hl-14">// UI renderer - accepts string (&quot;default&quot;) or a renderer object</span><br/><span class="hl-5">    </span><span class="hl-10">transformer:</span><span class="hl-5"> </span><span class="hl-6">null</span><span class="hl-5">,             </span><span class="hl-14">// Data transformer/validator</span><br/><span class="hl-5">    </span><span class="hl-10">parser:</span><span class="hl-5"> </span><span class="hl-6">null</span><span class="hl-5">,                  </span><span class="hl-14">// CSV parser</span><br/><span class="hl-5">});</span><br/><span class="hl-0">&lt;/</span><span class="hl-1">script</span><span class="hl-0">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>The columns object has many different options:</p>
<pre><code class="javascript"><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">columns</span><span class="hl-2"> = [ </span><span class="hl-14">// Columns should be an array</span><br/><span class="hl-2">    </span><span class="hl-9">&#39;id&#39;</span><span class="hl-2">, </span><span class="hl-14">// You can pass a simple string</span><br/><span class="hl-2">    </span><span class="hl-9">&#39;name&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    {     </span><span class="hl-14">// Or it can be defined with an object</span><br/><span class="hl-2">        </span><span class="hl-10">name:</span><span class="hl-2"> </span><span class="hl-9">&#39;sku&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-10">validate:</span><span class="hl-12"> /</span><span class="hl-17">^</span><span class="hl-12">SKU</span><span class="hl-18">[</span><span class="hl-12">0-9</span><span class="hl-18">]</span><span class="hl-13">+</span><span class="hl-17">$</span><span class="hl-12">/</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    {</span><br/><span class="hl-2">        </span><span class="hl-14">// This, by default, is used for the output csv header and UI display.</span><br/><span class="hl-2">        </span><span class="hl-10">name:</span><span class="hl-2"> </span><span class="hl-9">&#39;barcode&#39;</span><span class="hl-2">,</span><br/><br/><span class="hl-2">        </span><span class="hl-14">// This displays in the UI.</span><br/><span class="hl-2">        </span><span class="hl-10">title:</span><span class="hl-2"> </span><span class="hl-9">&#39;Barcode&#39;</span><span class="hl-2">,</span><br/><br/><span class="hl-2">        </span><span class="hl-14">// This displays in the UI as a tooltip (title=&quot;description&quot;).</span><br/><span class="hl-2">        </span><span class="hl-10">description:</span><span class="hl-2"> </span><span class="hl-9">&#39;The UPC barcode&#39;</span><span class="hl-2">,</span><br/><br/><span class="hl-2">        </span><span class="hl-14">// This displays in the UI as a visible comment.</span><br/><span class="hl-2">        </span><span class="hl-10">comment:</span><span class="hl-2"> </span><span class="hl-9">&#39;must be of the format 01234567890&#39;</span><span class="hl-2">,</span><br/><br/><span class="hl-2">        </span><span class="hl-14">// This will be what&#39;s used in the remapped output.</span><br/><span class="hl-2">        </span><span class="hl-10">outputHeader:</span><span class="hl-2"> </span><span class="hl-9">&#39;UPC&#39;</span><span class="hl-2">,</span><br/><br/><span class="hl-2">        </span><span class="hl-14">// Default value to be used if not present in mapping.</span><br/><span class="hl-2">        </span><span class="hl-10">defaultValue:</span><span class="hl-2"> </span><span class="hl-9">&#39;0&#39;</span><span class="hl-2">,</span><br/><br/><span class="hl-2">        </span><span class="hl-14">// Whether the column is required for remapping (default: false).</span><br/><span class="hl-2">        </span><span class="hl-10">required:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2">,</span><br/><br/><span class="hl-2">        </span><span class="hl-14">// Whether the column is allowed to be mapped multiple times.</span><br/><span class="hl-2">        </span><span class="hl-10">allowDuplicates:</span><span class="hl-2"> </span><span class="hl-6">false</span><span class="hl-2">,</span><br/><br/><span class="hl-2">        </span><span class="hl-14">// Function/regex for matching to supplied CSV headers.</span><br/><span class="hl-2">        </span><span class="hl-8">match</span><span class="hl-10">:</span><span class="hl-2"> (</span><span class="hl-10">header</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> [</span><span class="hl-9">&#39;barcode&#39;</span><span class="hl-2">, </span><span class="hl-9">&#39;upc&#39;</span><span class="hl-2">, </span><span class="hl-9">&#39;isbn&#39;</span><span class="hl-2">].</span><span class="hl-8">includes</span><span class="hl-2">(</span><span class="hl-10">header</span><span class="hl-2">.</span><span class="hl-8">toLowerCase</span><span class="hl-2">()),</span><br/><br/><span class="hl-2">        </span><span class="hl-14">// A transformation function or list of transformions. Some default built ins are provided which you can reference by string.</span><br/><span class="hl-2">        </span><span class="hl-10">transform:</span><span class="hl-2"> [</span><span class="hl-9">&#39;string&#39;</span><span class="hl-2">, </span><span class="hl-9">&#39;upper&#39;</span><span class="hl-2">, (</span><span class="hl-10">str</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-10">str</span><span class="hl-2">.</span><span class="hl-8">split</span><span class="hl-2">(</span><span class="hl-9">&#39;-&#39;</span><span class="hl-2">).</span><span class="hl-8">map</span><span class="hl-2">(</span><span class="hl-10">a</span><span class="hl-2"> </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-10">a</span><span class="hl-2">.</span><span class="hl-8">trim</span><span class="hl-2">()).</span><span class="hl-8">join</span><span class="hl-2">(</span><span class="hl-9">&#39;&#39;</span><span class="hl-2">)],</span><br/><br/><span class="hl-2">        </span><span class="hl-14">// A string (e.g. &#39;email&#39;, &#39;date&#39;), regex or function for validation.</span><br/><span class="hl-2">        </span><span class="hl-10">validate:</span><span class="hl-12"> /</span><span class="hl-17">^</span><span class="hl-18">(?=</span><span class="hl-12">.</span><span class="hl-13">*</span><span class="hl-12">0</span><span class="hl-18">)[</span><span class="hl-12">0-9</span><span class="hl-18">]</span><span class="hl-13">{12}</span><span class="hl-17">$</span><span class="hl-12">/</span><span class="hl-2">,</span><br/><br/><span class="hl-2">        </span><span class="hl-14">// Validation message supplied to the user.</span><br/><span class="hl-2">        </span><span class="hl-10">validationMessage:</span><span class="hl-2"> </span><span class="hl-9">&#39;&quot;Barcode&quot; should be a valid UPC-A barcode.&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">];</span>
</code><button type="button">Copy</button></pre>

</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#csv-remapper"><span>CSV remapper</span></a><ul><li><a href="#features"><span>Features:</span></a></li></ul><a href="#installation"><span>Installation</span></a><a href="#usage"><span>Usage</span></a><ul><li><a href="#csv-parsing-capabilities"><span>CSV <wbr/>Parsing <wbr/>Capabilities</span></a></li><li><ul><li><a href="#multiline-fields"><span>Multiline <wbr/>Fields</span></a></li><li><a href="#various-quote-styles"><span>Various <wbr/>Quote <wbr/>Styles</span></a></li><li><a href="#different-separators-and-dialects"><span>Different <wbr/>Separators and <wbr/>Dialects</span></a></li></ul></li></ul><a href="#no-ui-option"><span>No <wbr/>UI option</span></a><a href="#advanced-configuration"><span>Advanced <wbr/>Configuration</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@manticorp/csv-mapper</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
